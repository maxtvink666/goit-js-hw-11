{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst API_KEY = '54674078-cc29e36c5df6708fa2caeef42';\n\nexport function getImagesByQuery(query) {\n    return axios({\n    method: 'get',\n    url: 'https://pixabay.com/api/',\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      per_page: 40, \n    },\n    })\n  .then(function (response) {\n     console.log(response.data.hits);\n      return response.data;\n  })\n   .catch(function (AxiosError) {\n    iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n    }\n    )}\n   )\n}","import SimpleLightboxModule from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst SimpleLightbox = SimpleLightboxModule.default || SimpleLightboxModule;\nlet lightbox;\n\nexport function markupGallery(images) {\n  const galleryContainer = document.querySelector('.gallery');\n  const galleryMarkup = images\n    .map(\n      image =>\n        `<li class=\"photo-card\">\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\"/>\n            </a>\n            <div class=\"info\">\n            <div class=\"info-item\">\n                <p class=\"info-item\">\n                    <b>Likes</b>${image.likes}\n                </p>\n                </div>\n                <div class=\"info-item\">\n                <p class=\"info-item\">\n                    <b>Views</b>${image.views}\n                </p>\n                </div>\n                <div class=\"info-item\">\n                <p class=\"info-item\">\n                    <b>Comments</b>${image.comments}\n                </p>\n                </div>\n                <div class=\"info-item\">\n                <p class=\"info-item\">\n                    <b>Downloads</b>${image.downloads}\n                </p>\n                </div>\n            </div>\n        </li>`\n    )\n    .join('');\n\n  galleryContainer.innerHTML = galleryMarkup;\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionsData: 'alt',\n      captionDelay: 250,\n      closeText: '×',\n      navText: ['←', '→'],\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function clearGallery() {\n  const galleryContainer = document.querySelector('.gallery');\n  galleryContainer.innerHTML = '';\n}\n\nexport function showLoader() {\n  const loaderContainer = document.querySelector('.loader');\n  loaderContainer.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  const loaderContainer = document.querySelector('.loader');\n  loaderContainer.classList.add('hidden');\n}","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  markupGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst jsSearchQuery = document.querySelector('.js-search-query');\nlet query = '';\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault(); \n\n  clearGallery();\n  showLoader();\n\n  query = e.currentTarget.searchText.value.trim();\n  form.reset(); \n\n  if (query === '') {\n    iziToast.info({\n      title: 'Info',\n      position: 'topRight',\n      message: 'Please enter a search query!',\n    });\n    hideLoader(); \n    return;\n  }\n\n  jsSearchQuery.textContent = `Search query : \"${query}\"`;\n\n  getImagesByQuery(query)\n    .then(images => {\n      if (images.hits.length === 0) {\n        iziToast.info({\n          title: 'Info',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      markupGallery(images.hits);\n    })\n    .catch(AxiosError => {\n      iziToast.error({\n        title: 'Error',\n        position: 'topRight',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}"],"names":["API_KEY","getImagesByQuery","query","axios","response","AxiosError","iziToast","SimpleLightbox","SimpleLightboxModule","lightbox","markupGallery","images","galleryContainer","galleryMarkup","image","clearGallery","showLoader","hideLoader","form","jsSearchQuery","onFormSubmit","e"],"mappings":"owBAIA,MAAMA,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,OAAOC,EAAM,CACb,OAAQ,MACR,IAAK,2BACL,OAAQ,CACN,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACL,CAAK,EACF,KAAK,SAAUE,EAAU,CACvB,eAAQ,IAAIA,EAAS,KAAK,IAAI,EACtBA,EAAS,IACtB,CAAG,EACC,MAAM,SAAUC,EAAY,CAC5BC,EAAS,MAAM,CACX,MAAO,QACP,QACE,0EACL,CACL,CAAK,CACD,CACJ,CC1BA,MAAMC,EAAiBC,EAAqB,SAAWA,EACvD,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAgBF,EACnB,IACCG,GACE;AAAA,uBACeA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,kCAKhCA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,kCAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKRA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,sCAKbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,cAKhD,EACA,KAAK,EAAE,EAEVF,EAAiB,UAAYC,EAExBJ,EASHA,EAAS,QAAO,EARhBA,EAAW,IAAIF,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,aAAc,IACd,UAAW,IACX,QAAS,CAAC,IAAK,GAAG,CACxB,CAAK,CAIL,CAEO,SAASQ,GAAe,CAC7B,MAAMH,EAAmB,SAAS,cAAc,UAAU,EAC1DA,EAAiB,UAAY,EAC/B,CAEO,SAASI,GAAa,CACH,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,QAAQ,CAC3C,CAEO,SAASC,GAAa,CACH,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,QAAQ,CACxC,CC7DA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAgB,SAAS,cAAc,kBAAkB,EAC/D,IAAIjB,EAAQ,GAEZgB,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAG,CASvB,GARAA,EAAE,eAAc,EAEhBN,IACAC,IAEAd,EAAQmB,EAAE,cAAc,WAAW,MAAM,KAAI,EAC7CH,EAAK,MAAK,EAENhB,IAAU,GAAI,CAChBI,EAAS,KAAK,CACZ,MAAO,OACP,SAAU,WACV,QAAS,8BACf,CAAK,EACDW,IACA,MACD,CAEDE,EAAc,YAAc,mBAAmBjB,CAAK,IAEpDD,EAAiBC,CAAK,EACnB,KAAKS,GAAU,CACVA,EAAO,KAAK,SAAW,GACzBL,EAAS,KAAK,CACZ,MAAO,OACP,SAAU,WACV,QACE,0EACZ,CAAS,EAEHI,EAAcC,EAAO,IAAI,CAC/B,CAAK,EACA,MAAMN,GAAc,CACnBC,EAAS,MAAM,CACb,MAAO,QACP,SAAU,WACV,QACE,0EACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbW,GACN,CAAK,CACL"}